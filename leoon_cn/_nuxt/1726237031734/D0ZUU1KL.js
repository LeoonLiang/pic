import{a as $,q as U,_ as E,w as j,c as C}from"./DZ4bjJ-W.js";import{r as B,o as T,e as L,q as p,u as P,v as n,x as u,Q as z,j as t,U as k,A as _,a2 as V,J as g,ac as b,z as I,I as q,a0 as N,aS as A,d as c,y as v,B as y}from"./CGHQ5HZD.js";const F=(o,e=0)=>{if(e===0)return o;const s=B(!1);let a=0;const l=()=>{a&&clearTimeout(a),a=window.setTimeout(()=>{s.value=o.value},e)};return T(l),L(()=>o.value,r=>{r?l():s.value=r}),s},M=$({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}}),R=$({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),J=p({name:"ElSkeletonItem"}),Q=p({...J,props:R,setup(o){const e=P("skeleton");return(s,a)=>(n(),u("div",{class:_([t(e).e("item"),t(e).e(s.variant)])},[s.variant==="image"?(n(),z(t(U),{key:0})):k("v-if",!0)],2))}});var h=E(Q,[["__file","skeleton-item.vue"]]);const W=p({name:"ElSkeleton"}),D=p({...W,props:M,setup(o,{expose:e}){const s=o,a=P("skeleton"),l=F(V(s,"loading"),s.throttle);return e({uiLoading:l}),(r,S)=>t(l)?(n(),u("div",N({key:0,class:[t(a).b(),t(a).is("animated",r.animated)]},r.$attrs),[(n(!0),u(g,null,b(r.count,d=>(n(),u(g,{key:d},[r.loading?I(r.$slots,"template",{key:d},()=>[q(h,{class:_(t(a).is("first")),variant:"p"},null,8,["class"]),(n(!0),u(g,null,b(r.rows,m=>(n(),z(h,{key:m,class:_([t(a).e("paragraph"),t(a).is("last",m===r.rows&&r.rows>1)]),variant:"p"},null,8,["class"]))),128))]):k("v-if",!0)],64))),128))],16)):I(r.$slots,"default",A(N({key:1},r.$attrs)))}});var G=E(D,[["__file","skeleton.vue"]]);const se=j(G,{SkeletonItem:h}),re=C(h),K={class:"leoon-cover"},O=["src","loading"],X={class:"leoon-cover-picture"},Y=["srcset"],Z=["loading","src"],ae=p({__name:"Cover",props:{src:{type:String,default:""},loading:{type:String,default:"lazy"},ratio:[String,Number],fit:{type:String,default:"cover"},initialIndex:{type:Number,default:0}},setup(o){const e=o,s=B(e.initialIndex),a=c(()=>{const i=typeof e.ratio=="string"?parseFloat(e.ratio)||1.7777777777777777:e.ratio||1.7777777777777777;return`padding-bottom: ${Math.round(1e4/i)/100}%;`}),l=c(()=>{let i="";return e.fit&&(i=`${i}object-fit:${e.fit};`),i}),r=c(()=>"https://image.baidu.com/search/down?url="+e.src),S=c(()=>"https://images.weserv.nl/?url="+e.src),d=c(()=>"http://i0.wp.com/"+e.src.replace("https://","").replace("http://","")),m=c(()=>"https://cdn.cdnjson.com/"+e.src.replace("https://","").replace("http://","")),H=c(()=>e.src.endsWith(".avif")),f=c(()=>[e.src,S.value,r.value,d.value,m.value]),w=()=>{s.value<f.value.length-1&&s.value++};return(i,x)=>(n(),u("div",K,[v("div",{style:y(t(a))},null,4),t(H)?k("",!0):(n(),u("img",{key:0,class:"leoon-cover-img",style:y(t(l)),src:t(f)[t(s)],loading:o.loading,onError:w},null,44,O)),v("picture",X,[v("source",{srcset:t(f)[t(s)],type:"image/avif"},null,8,Y),v("img",{loading:o.loading,class:"leoon-cover-img",src:t(f)[t(s)].replace(".avif",""),style:y(t(l)),onError:w},null,44,Z)])]))}});export{se as E,ae as _,re as a};
