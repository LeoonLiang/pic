import{a as I,q as C,_ as N,w as T,c as L}from"./_Zd1xayy.js";import{r as $,o as V,g as W,d as m,u as B,x as a,c as i,Q as P,l as t,U,A as k,a2 as A,J as _,ac as w,z as S,a0 as E,aS as F,I as M,f as l,y as p,B as g}from"./CNmYJSpe.js";const O=(n,e=0)=>{if(e===0)return n;const s=$(!1);let o=0;const c=()=>{o&&clearTimeout(o),o=window.setTimeout(()=>{s.value=n.value},e)};return V(c),W(()=>n.value,r=>{r?c():s.value=r}),s},R=I({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}}),q=I({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),x=m({name:"ElSkeletonItem"}),J=m({...x,props:q,setup(n){const e=B("skeleton");return(s,o)=>(a(),i("div",{class:k([t(e).e("item"),t(e).e(s.variant)])},[s.variant==="image"?(a(),P(t(C),{key:0})):U("v-if",!0)],2))}});var h=N(J,[["__file","skeleton-item.vue"]]);const Q=m({name:"ElSkeleton"}),D=m({...Q,props:R,setup(n,{expose:e}){const s=n,o=B("skeleton"),c=O(A(s,"loading"),s.throttle);return e({uiLoading:c}),(r,b)=>t(c)?(a(),i("div",E({key:0,class:[t(o).b(),t(o).is("animated",r.animated)]},r.$attrs),[(a(!0),i(_,null,w(r.count,f=>(a(),i(_,{key:f},[r.loading?S(r.$slots,"template",{key:f},()=>[M(h,{class:k(t(o).is("first")),variant:"p"},null,8,["class"]),(a(!0),i(_,null,w(r.rows,v=>(a(),P(h,{key:v,class:k([t(o).e("paragraph"),t(o).is("last",v===r.rows&&r.rows>1)]),variant:"p"},null,8,["class"]))),128))]):U("v-if",!0)],64))),128))],16)):S(r.$slots,"default",F(E({key:1},r.$attrs)))}});var G=N(D,[["__file","skeleton.vue"]]);const le=T(G,{SkeletonItem:h}),ce=L(h),K={class:"leoon-cover"},X={key:0,class:"leoon-cover-picture"},Y=["srcset"],Z=["loading","src"],ee={key:1,class:"leoon-cover-picture"},te=["srcset"],se=["loading","src"],re=["src","loading"],ie=m({__name:"Cover",props:{src:{type:String,default:""},loading:{type:String,default:"lazy"},ratio:[String,Number],fit:{type:String,default:"cover"},initialIndex:{type:Number,default:0}},setup(n){const e=n,s=$(e.initialIndex),o=l(()=>{const u=typeof e.ratio=="string"?parseFloat(e.ratio)||1.7777777777777777:e.ratio||1.7777777777777777;return`padding-bottom: ${Math.round(1e4/u)/100}%;`}),c=l(()=>{let u="";return e.fit&&(u=`${u}object-fit:${e.fit};`),u}),r=l(()=>"https://image.baidu.com/search/down?url="+e.src),b=l(()=>"https://images.weserv.nl/?url="+e.src),f=l(()=>"http://i0.wp.com/"+e.src.replace("https://","").replace("http://","")),v=l(()=>"https://cdn.cdnjson.com/"+e.src.replace("https://","").replace("http://","")),z=l(()=>e.src.endsWith(".avif")),H=l(()=>e.src.endsWith(".webp")),j=l(()=>e.src.replace("cdn.tsinbei.com","gcore.jsdelivr.net")),d=l(()=>e.src.indexOf("cdn.tsinbei.com")!==-1?[e.src,j.value]:[e.src,b.value,r.value,f.value,v.value]),y=()=>{e.src.indexOf("cdn.tsinbei.com"),s.value<d.value.length-1&&s.value++};return(u,oe)=>(a(),i("div",K,[p("div",{style:g(t(o))},null,4),t(z)?(a(),i("picture",X,[p("source",{srcset:t(d)[t(s)],type:"image/avif"},null,8,Y),p("img",{loading:n.loading,class:"leoon-cover-img",src:t(d)[t(s)].replace(".avif",""),style:g(t(c)),onError:y},null,44,Z)])):t(H)?(a(),i("picture",ee,[p("source",{srcset:t(d)[t(s)],type:"image/webp"},null,8,te),p("img",{loading:n.loading,class:"leoon-cover-img",src:t(d)[t(s)].replace(".webp",""),style:g(t(c)),onError:y},null,44,se)])):(a(),i("img",{key:2,class:"leoon-cover-img",style:g(t(c)),src:t(d)[t(s)],loading:n.loading,onError:y},null,44,re))]))}});export{le as E,ie as _,ce as a};
