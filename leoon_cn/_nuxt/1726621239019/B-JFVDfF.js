import{a as U,q as C,_ as E,w as L,c as R}from"./B_f6gFs1.js";import{r as $,o as T,e as V,d as p,n as F,q as l,c as u,N as B,u as e,R as H,y as b,a0 as W,H as k,a7 as N,x as I,_ as S,aS as q,G as M,b as i,v as d,z as v}from"./DahX4Uqr.js";const O=(r,t=0)=>{if(t===0)return r;const s=$(!1);let o=0;const c=()=>{o&&clearTimeout(o),o=window.setTimeout(()=>{s.value=r.value},t)};return T(c),V(()=>r.value,a=>{a?c():s.value=a}),s},A=U({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}}),G=U({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),D=p({name:"ElSkeletonItem"}),J=p({...D,props:G,setup(r){const t=F("skeleton");return(s,o)=>(l(),u("div",{class:b([e(t).e("item"),e(t).e(s.variant)])},[s.variant==="image"?(l(),B(e(C),{key:0})):H("v-if",!0)],2))}});var h=E(J,[["__file","skeleton-item.vue"]]);const K=p({name:"ElSkeleton"}),Q=p({...K,props:A,setup(r,{expose:t}){const s=r,o=F("skeleton"),c=O(W(s,"loading"),s.throttle);return t({uiLoading:c}),(a,w)=>e(c)?(l(),u("div",S({key:0,class:[e(o).b(),e(o).is("animated",a.animated)]},a.$attrs),[(l(!0),u(k,null,N(a.count,f=>(l(),u(k,{key:f},[a.loading?I(a.$slots,"template",{key:f},()=>[M(h,{class:b(e(o).is("first")),variant:"p"},null,8,["class"]),(l(!0),u(k,null,N(a.rows,g=>(l(),B(h,{key:g,class:b([e(o).e("paragraph"),e(o).is("last",g===a.rows&&a.rows>1)]),variant:"p"},null,8,["class"]))),128))]):H("v-if",!0)],64))),128))],16)):I(a.$slots,"default",q(S({key:1},a.$attrs)))}});var X=E(Q,[["__file","skeleton.vue"]]);const ie=L(X,{SkeletonItem:h}),ce=R(h);function _(r){return new URL(r).pathname.split("/").pop()}const Y={class:"leoon-cover"},Z={key:0,class:"leoon-cover-picture"},x=["srcset"],ee=["loading","src","alt"],te={key:1,class:"leoon-cover-picture"},se=["srcset"],re=["loading","src","alt"],ae=["src","loading","alt"],ue=p({__name:"Cover",props:{src:{type:String,default:""},loading:{type:String,default:"lazy"},ratio:[String,Number],fit:{type:String,default:"cover"},initialIndex:{type:Number,default:0}},setup(r){const t=r,s=$(t.initialIndex),o=i(()=>{const n=typeof t.ratio=="string"?parseFloat(t.ratio)||1.7777777777777777:t.ratio||1.7777777777777777;return`padding-bottom: ${Math.round(1e4/n)/100}%;`}),c=i(()=>{let n="";return t.fit&&(n=`${n}object-fit:${t.fit};`),n}),a=i(()=>"https://image.baidu.com/search/down?url="+t.src),w=i(()=>"https://images.weserv.nl/?url="+t.src),f=i(()=>"http://i0.wp.com/"+t.src.replace("https://","").replace("http://","")),g=i(()=>"https://cdn.cdnjson.com/"+t.src.replace("https://","").replace("http://","")),P=i(()=>t.src.endsWith(".avif")),z=i(()=>t.src.endsWith(".webp")),j=i(()=>t.src.replace("cdn.tsinbei.com","gcore.jsdelivr.net")),m=i(()=>t.src.indexOf("cdn.tsinbei.com")!==-1?[t.src,j.value]:[t.src,w.value,a.value,f.value,g.value]),y=()=>{t.src.indexOf("cdn.tsinbei.com"),s.value<m.value.length-1&&s.value++};return(n,ne)=>(l(),u("div",Y,[d("div",{style:v(e(o))},null,4),e(P)?(l(),u("picture",Z,[d("source",{srcset:e(m)[e(s)],type:"image/avif"},null,8,x),d("img",{loading:r.loading,class:"leoon-cover-img",src:e(m)[e(s)].replace(".avif",""),style:v(e(c)),onError:y,alt:("useImageNameFromUrl"in n?n.useImageNameFromUrl:e(_))(r.src)},null,44,ee)])):e(z)?(l(),u("picture",te,[d("source",{srcset:e(m)[e(s)],type:"image/webp"},null,8,se),d("img",{loading:r.loading,class:"leoon-cover-img",src:e(m)[e(s)].replace(".webp",""),style:v(e(c)),onError:y,alt:("useImageNameFromUrl"in n?n.useImageNameFromUrl:e(_))(r.src)},null,44,re)])):(l(),u("img",{key:2,class:"leoon-cover-img",style:v(e(c)),src:e(m)[e(s)],loading:r.loading,onError:y,alt:("useImageNameFromUrl"in n?n.useImageNameFromUrl:e(_))(r.src)},null,44,ae))]))}});export{ie as E,ue as _,ce as a,_ as g};
