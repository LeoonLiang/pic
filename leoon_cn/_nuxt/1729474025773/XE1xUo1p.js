import{d as m,aX as u,r as p,w as d,u as g,i as f,a as h,c as _,f as y,o as w,h as L}from"./Cq5aSrlI.js";import{u as k}from"./CK0ePviY.js";import{u as v,a as C}from"./dc5OHkd4.js";import{O as $}from"./CShHsdoG.js";const b={key:0,class:"post-page"},N=m({__name:"[id]",async setup(B){var i,r;let o,n;u({script:[{src:"https://unpkg.com/masonry-layout@4.2.2/dist/masonry.pkgd.min.js"}]});const c=e=>`https://cdn.tsinbei.com/gh/LeoonLiang/pic@main/tuchong/image-${e}.webp`,s=p(null),l=async()=>{var t;const e=L(),{data:a}=await k(`/api/tc/${e.params.id}`,{headers:{...v()}},"$YTfWtXNtHX");a.value&&(s.value=JSON.parse(C((t=a.value)==null?void 0:t.data)))};return[o,n]=d(()=>l()),await o,n(),g({title:`${(i=s.value)==null?void 0:i.title} - Leoon Liang - Blog`,ogTitle:`${(r=s.value)==null?void 0:r.title} - Leoon Liang - Blog`}),f(()=>{var e;$.show((e=s.value)==null?void 0:e.images.map(a=>{var t;return{src:c(a.img_id.toString()),thumb:(t=a.source)==null?void 0:t.mr.replace("/mr/","/t/"),type:"image"}}),{compact:!1,idle:!1,animated:!1,showClass:!1,hideClass:!1,dragToClose:!1,Images:{zoom:!1},Toolbar:{display:{left:[],middle:[],right:["close"]}},on:{close(){window.location.href="/"}}})}),(e,a)=>h(s)?(w(),_("div",b)):y("",!0)}});export{N as default};
