import{d as N,r as w,m as s,o as l,c as i,b as c,F as u,a as e}from"./BPk9f5DS.js";function g(n){return new URL(n).pathname.split("/").pop()}const F={class:"leoon-cover"},S={key:0,class:"leoon-cover-picture"},k=["srcset"],E=["loading","src","alt"],_={key:1,class:"leoon-cover-picture"},j=["srcset"],H=["loading","src","alt"],B=["src","loading","alt"],z=N({__name:"Cover",props:{src:{type:String,default:""},loading:{type:String,default:"lazy"},ratio:[String,Number],fit:{type:String,default:"cover"},initialIndex:{type:Number,default:0}},setup(n){const t=n,o=w(t.initialIndex),p=s(()=>{const r=typeof t.ratio=="string"?parseFloat(t.ratio)||1.7777777777777777:t.ratio||1.7777777777777777;return`padding-bottom: ${Math.round(1e4/r)/100}%;`}),m=s(()=>{let r="";return t.fit&&(r=`${r}object-fit:${t.fit};`),r}),f=s(()=>"https://image.baidu.com/search/down?url="+t.src),v=s(()=>"https://images.weserv.nl/?url="+t.src),h=s(()=>"http://i0.wp.com/"+t.src.replace("https://","").replace("http://","")),y=s(()=>"https://cdn.cdnjson.com/"+t.src.replace("https://","").replace("http://","")),b=s(()=>t.src.endsWith(".avif")),U=s(()=>t.src.endsWith(".webp")),I=s(()=>t.src.replace("cdn.tsinbei.com","gcore.jsdelivr.net")),a=s(()=>t.src.indexOf("cdn.tsinbei.com")!==-1?[t.src,I.value]:[t.src,v.value,f.value,h.value,y.value]),d=()=>{t.src.indexOf("cdn.tsinbei.com"),o.value<a.value.length-1&&o.value++};return(r,W)=>(l(),i("div",F,[c("div",{class:"ratio-block",style:u(e(p))},null,4),e(b)?(l(),i("picture",S,[c("source",{srcset:e(a)[e(o)],type:"image/avif"},null,8,k),c("img",{loading:n.loading,class:"leoon-cover-img",src:e(a)[e(o)].replace(".avif",""),style:u(e(m)),onError:d,alt:("useImageNameFromUrl"in r?r.useImageNameFromUrl:e(g))(n.src)},null,44,E)])):e(U)?(l(),i("picture",_,[c("source",{srcset:e(a)[e(o)],type:"image/webp"},null,8,j),c("img",{loading:n.loading,class:"leoon-cover-img",src:e(a)[e(o)].replace(".webp",""),style:u(e(m)),onError:d,alt:("useImageNameFromUrl"in r?r.useImageNameFromUrl:e(g))(n.src)},null,44,H)])):(l(),i("img",{key:2,class:"leoon-cover-img",style:u(e(m)),src:e(a)[e(o)],loading:n.loading,onError:d,alt:("useImageNameFromUrl"in r?r.useImageNameFromUrl:e(g))(n.src)},null,44,B))]))}});export{z as _,g};
