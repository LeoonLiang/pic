import{E as f,a as g}from"./BhmuK5Fw.js";import"./0Y1Uzobb.js";import{d as p,o as i,S as w,R as m,b as t,e as a,V as v,a as d,aj as b,c as s,f as y,u as k,r as u,y as D,M as B,ab as x,E as L}from"./Co96c63I.js";import{u as C}from"./D1xpk_q1.js";import{_ as $}from"./CF-F7KKo.js";import{_ as M}from"./ocZkaw1Q.js";const S={class:"leoon-video-card-img-wrapper"},V={class:"leoon-video-card-time"},E=["innerHTML"],N={class:"leoon-video-card-title"},T={class:"leoon-video-card-date"},H={key:0,class:"leoob-video-card-hot"},j=p({__name:"VideoCard",props:{videoData:{type:Object,default:()=>({})}},setup(e){return(n,l)=>{const c=$,o=M;return i(),w(o,{to:`https://www.bilibili.com/video/${e.videoData.bvid}`,target:"_blank",class:"leoon-video-card leoon-resource","leoon-id":"VideoClick","leoon-title":"视频点击","leoon-type":"resource","leoon-data-id":e.videoData.bvid,"leoon-data-title":e.videoData.title,"leoon-data-type":"video"},{default:m(()=>[t("div",S,[a(c,{"initial-index":2,src:e.videoData.pic+"@750w.webp",ratio:16/9,fit:"cover"},null,8,["src"]),t("div",V,v(e.videoData.length),1),t("div",{class:"leoon-video-card-desc",innerHTML:e.videoData.description.replace(/\n/g,"<br>")},null,8,E)]),t("div",N,v(e.videoData.title),1),t("div",T,v(d(b)(e.videoData.created*1e3,"y-M-d")),1),e.videoData.recommand?(i(),s("div",H,"推荐观看")):y("",!0)]),_:1},8,["to","leoon-data-id","leoon-data-title"])}}}),z={class:"video-wrapper"},F={class:"leoon-video-card-img-wrapper video-card-wrapper"},I={class:"video-card-container"},P=p({__name:"bilibili",setup(e){k({title:"视频 - Leoon Liang - Blog",ogTitle:"视频 - Leoon Liang - Blog"});const n=u([]),l=u(!0),c=async()=>{try{const o=await $fetch("/api/video",{headers:{...C()}});o&&(n.value=o)}catch{}finally{l.value=!1}};return D(()=>{c()}),(o,O)=>{const r=g,h=f;return i(),s("div",z,[a(h,{loading:d(l)&&d(n).length===0,animated:"",count:16,class:"video-card-container",throttle:60},{template:m(()=>[t("div",F,[a(r,{variant:"image",style:{width:"100%"}}),a(r,{variant:"h1",style:{width:"100%","margin-top":"0.5rem"}}),a(r,{variant:"text",style:{width:"50%"}})])]),default:m(()=>[t("div",I,[(i(!0),s(B,null,x(d(n),_=>(i(),s("div",{class:L(["video-card-wrapper",{hot:!!_.hot}])},[a(j,{"video-data":_},null,8,["video-data"])],2))),256))])]),_:1},8,["loading"])])}}});export{P as default};
